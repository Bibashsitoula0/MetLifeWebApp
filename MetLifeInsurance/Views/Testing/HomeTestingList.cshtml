@using X.PagedList.Mvc
@using X.PagedList;
@model IPagedList<MetLifeInsurance.Models.BookingStatusReturnType>

    @{
      string fromdate = ViewBag.formDate;
       string toDate = ViewBag.toDate;
       string booking_status = ViewBag.booking_status;
      string pending_status = ViewBag.pending_status;
      string code = ViewBag.code;
      string name = ViewBag.name;
      string contact = ViewBag.contact;
    }

<link href="cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
<link href="~/Content/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

<link href="~/Content/vendors/iCheck/skins/flat/green.css" rel="stylesheet">

<link href="~/Content/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
<link href="~/Content/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css" rel="stylesheet">
<link href="~/Content/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css" rel="stylesheet">
<link href="~/Content/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css" rel="stylesheet">
<link href="~/Content/vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css" rel="stylesheet">
<link href="~/Content/build/css/custom.min.css" rel="stylesheet">


<style>

    .pagination {
        margin-top: 10px;
        margin-bottom: 10px;
    }

        .pagination ul.pagination {
            display: inline-block;
            padding-left: 0;
            margin: 0;
            border-radius: 4px;
        }

            .pagination ul.pagination li {
                display: inline;
            }

                .pagination ul.pagination li a,
                .pagination ul.pagination li span {
                    position: relative;
                    float: left;
                    padding: 6px 12px;
                    margin-left: -1px;
                    line-height: 1.42857143;
                    color: #428bca;
                    text-decoration: none;
                    background-color: #fff;
                    border: 1px solid #ddd;
                }

                .pagination ul.pagination li:first-child a,
                .pagination ul.pagination li:first-child span {
                    margin-left: 0;
                    border-top-left-radius: 4px;
                    border-bottom-left-radius: 4px;
                }

                .pagination ul.pagination li:last-child a,
                .pagination ul.pagination li:last-child span {
                    border-top-right-radius: 4px;
                    border-bottom-right-radius: 4px;
                }

                .pagination ul.pagination li a:hover,
                .pagination ul.pagination li a:focus,
                .pagination ul.pagination li span:hover,
                .pagination ul.pagination li span:focus {
                    z-index: 2;
                    color: #2a6496;
                    background-color: #eee;
                    border-color: #ddd;
                }

            .pagination ul.pagination .disabled span,
            .pagination ul.pagination .disabled a,
            .pagination ul.pagination .disabled a:hover,
            .pagination ul.pagination .disabled a:focus {
                color: #777;
                cursor: not-allowed;
                background-color: #fff;
                border-color: #ddd;
            }

            .pagination ul.pagination .active span,
            .pagination ul.pagination .active a,
            .pagination ul.pagination .active a:hover,
            .pagination ul.pagination .active a:focus {
                z-index: 3;
                color: #fff;
                background-color: #428bca;
                border-color: #428bca;
                cursor: default;
            }
    .pending-status {
        background-color: red;
        color: white !important;
    }

    .completed-status{
        background-color: green;
        color: white !important;
    }

    /* Styles for the star rating */
    .rating {
        display: inline-block;
    }

        .rating input {
            display: none;
        }

        .rating label {
            float: right;
            cursor: pointer;
            color: #ddd;
        }

            .rating label:before {
                content: "\2606";
                font-size: 24px;
            }

        .rating input:checked ~ label:before {
            content: "\2605";
            color: gold;
        }

        .rating label:hover:before {
            content: "\2605";
            color: gold;
        }

        .card{
            margin-bottom:6px;
        }
        
       


</style>


    <div class="page-title" style="margin-top:100px;">
    </div>
    <div class="col-md-12 col-sm-12 " style="margin-top:50px;">
        <div class="x_panel">
            <div class="x_title">
                <h2>Home Testing Services <small></small></h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li>
                        <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">Settings 1</a>
                            <a class="dropdown-item" href="#">Settings 2</a>
                        </div>
                    </li>
                    <li>
                        <a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="card-box table-responsive">
                            <table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                                <thead>
                                    <tr>
                                        <th>S.N</th>
                                        <th>Code</th>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Contact No</th>
                                        <th>Created Date & times </th>
                                        <th>Modified Date & time</th>
                                        <th>Prefered Date</th>
                                        <th>Booking Status</th>
                                        <th>Payment Status</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model)
                                    {
                                        <tr>
                                            <td>@item.serial_number</td>
                                            <td>@item.booking_code</td>
                                            <td>@item.patient_info_name</td>
                                            <td>@item.patient_info_email</td>
                                            <td>@item.patient_info_contact</td>
                                            <td>@item.created_date<br /></td>
                                            <td>@item.last_modified_date</td>
                                            <td>@item.preferred_date</td>

                                            @switch (item.booking_status)
                                            {
                                                case "Completed":
                                                    <td class="text-center"><span class="badge" style="background-color:green; color:white;">@item.booking_status</span><br /></td>
                                                    break;
                                                case "Appointment Completed":
                                                <td class="text-center"><span class="badge" style="background-color:green; color:white;">@item.booking_status</span><br /></td>
                                                break;
                                                default:
                                                    <td class="text-center"><span class="badge" style="background-color:red; color:white;">@item.booking_status</span><br /><span>@item.delay_day day delay</span></td>
                                                    break;
                                            }
                                            @switch (item.payment_status)
                                            {
                                                case "Paid":
                                                    <td class="text-center"><span class="badge " style="background-color:green; color:white;">@item.payment_status</span><br />@item.payment_method</td>
                                                    break;
                                                default:
                                                    <td class="text-center"><span class="badge " style="background-color:red; color:white;">@item.payment_status</span><br />@item.payment_method</td>
                                                    break;
                                            }



                                            <td>
                                                <div style="display:block;">
                                                    <div id="details" style="display: inline-block;">
                                                        <a class="btn" style="color:dodgerblue" data-toggle="modal" data-target="#myModals" title="Edit"
                                                           onclick="popupEdit('@item.booking_code','@item.booking_status','@item.medical_institute','@item.preferred_date','@item.appointment_date_time',
                                                      '@item.test_list','@item.patient_info_name','@item.patient_info_contact','@item.patient_info_email','@item.patient_info_subscriber_id','@item.patient_info_patient_type','@item.contact_info_address_1',
                                                      '@item.contact_info_address_2','@item.contact_info_contact','@item.contact_info_name','@item.contact_info_is_patient')">
                                                            <span class="fa fa-eye"></span>
                                                        </a>
                                                    </div>
                                                    <div id="details" style="display: inline-block;">
                                                        <a class="btn" style="color:forestgreen" data-toggle="modal" data-target="#myModalsFeedback" title="Feedback" onclick="popupFeedBacks('@item.booking_code','@item.type','@item.rating','@item.remarks')">
                                                            <span class="fa fa-comment"></span>
                                                        </a>
                                                    </div>
                                                </div>

                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                            <div class="col-sm-9" style="float:right;">
                                <div class="pagination" style="float:right;">
                                <ul class="pagination">
                                   
                                        <li class="paginate_button previous @(Model.PageNumber == 1 ? "disabled" : "")">
                                            <a href="/hometesting?pageNumber=1&code=@code&name=@name&contact=@contact&bookingid=@booking_status&pendingid=@pending_status&fromdate=@fromdate&todate=@toDate"><i class="fa fa-angle-double-left"></i></a>
                                        </li>
                                        <li class="paginate_button previous @(Model.HasPreviousPage ? "" : "disabled")">
                                            <a href="/hometesting?pageNumber=@(Model.PageNumber - 1)&code=@code&name=@name&contact=@contact&bookingid=@booking_status&pendingid=@pending_status&fromdate=@fromdate&todate=@toDate"><i class="fa fa-angle-left"></i></a>
                                        </li>
                                        @if (Model.PageNumber > 3)
                                        {
                                            <li>
                                                <a href="/hometesting?pageNumber=1&code=@code&name=@name&contact=@contact&bookingid=@booking_status&pendingid=@pending_status&fromdate=@fromdate&todate=@toDate">1</a>
                                            </li>
                                            @if (Model.PageNumber > 4)
                                            {
                                                <li class="disabled"><a>...</a></li>
                                            }
                                        }
                                        @for (int i = Model.PageNumber - 2; i <= Model.PageNumber + 2; i++)
                                        {
                                            if (i > 0 && i <= Model.PageCount)
                                            {
                                                <li class="@(Model.PageNumber == i ? "active" : "")">
                                                    <a href="/hometesting?pageNumber=@i&code=@code&name=@name&contact=@contact&bookingid=@booking_status&pendingid=@pending_status&fromdate=@fromdate&todate=@toDate">@i</a>
                                                </li>
                                            }
                                        }
                                        @if (Model.PageNumber < Model.PageCount - 2)
                                        {
                                            @if (Model.PageNumber < Model.PageCount - 3)
                                            {
                                                <li class="disabled"><a>...</a></li>
                                            }
                                            <li>
                                                <a href="/hometesting?pageNumber=@Model.PageCount&code=@code&name=@name&contact=@contact&bookingid=@booking_status&pendingid=@pending_status&fromdate=@fromdate&todate=@toDate">@Model.PageCount</a>
                                            </li>
                                        }
                                        <li class="paginate_button next @(Model.HasNextPage ? "" : "disabled")">
                                            <a href="/hometesting?pageNumber=@(Model.PageNumber + 1)&code=@code&name=@name&contact=@contact&bookingid=@booking_status&pendingid=@pending_status&fromdate=@fromdate&todate=@toDate"><i class="fa fa-angle-right"></i></a>
                                        </li>
                                        <li class="paginate_button next @(Model.PageNumber == Model.PageCount ? "disabled" : "")">
                                            <a href="/hometesting?pageNumber=@Model.PageCount&code=@code&name=@name&contact=@contact&bookingid=@booking_status&pendingid=@pending_status&fromdate=@fromdate&todate=@toDate"><i class="fa fa-angle-double-right"></i></a>
                                        </li>
                                
                                </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </div>



<div class="x_content">
    <div class="row">
        <div class="col-sm-12">
            <div class="modal fade" id="myModals" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen" role="document">
                    <div class="modal-content" style="width: 1000px; height: 775px;background-color:#ededed;">
                        <div class="modal-header">
                            <h4 class="modal-title" id="myModalLabel" style="color:black;">Booking Details</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        </div>
                        <div class="modal-body">
                            <div class="modal-body" style="margin-top: -15px;margin-bottom:-26px;">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="clearfix"></div>
                                        <div class="x_content" style="margin-top:-24px;">

                                            <section class="content invoice" style="margin-top:15px;">
                                                <!-- title row -->
                                                <div class="card">
                                                    <div class="card-body">
                                                    
                                                        <div class="row invoice-info">
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Code</strong>
                                                                    <br>
                                                                    <label id="booking_code"></label>
                                                                </div>
                                                            </div>
                                                             <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Preferred Date</strong>
                                                                    <br>
                                                                    <label id="prefered_date"></label>
                                                                </div>
                                                            </div>
                                                             <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Appointment Date</strong>
                                                                    <br>
                                                                    <label id="appointment_date"></label>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Booking Status</strong>
                                                                    <br>
                                                                    <label id="bookingstatus" class="badge pending-status"></label>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style ="color:black;">Insitute</strong>
                                                                    <br>
                                                                    <label id="Institute"></label>
                                                                </div>
                                                            </div>
                                                         </div>
                                                     </div>
                                                </div>

                                      


                                                <!-- /.row -->
                                                <!-- Table row -->
                                                <div class="card">
                                                    <div class="card-body">
                                                        <h6 style="color:black;"><strong>Test Details</strong></h6>
                                                        <div class="table-responsive">
                                                            <table id="testTable" class="table table-striped">
                                                                <thead>
                                                                    <tr>
                                                                        <th>#</th>
                                                                        <th>Test</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody></tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="card">
                                                    <div class="card-body">
                                                        <h6 class="card-title" style="color:black;"><strong>Contact Details</strong></h6>

                                                        <div class="row invoice-info">
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Name</strong>
                                                                    <br>
                                                                    <label id="name"></label>
                                                                </div>
                                                            </div>
                                                            <!-- /.col -->
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Contact</strong>
                                                                    <br>
                                                                    <label id="Contacts"></label>

                                                                </div>
                                                            </div>
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Address 1</strong>
                                                                    <br>
                                                                    <label id="Address1"></label>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Address 2</strong>
                                                                    <br>
                                                                    <label id="Address2"></label>
                                                                    <br>
                                                                    <br>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Same As Patent</strong>
                                                                    <br>
                                                                    <label id="ContactInfoIsPatient"></label>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">City</strong>
                                                                    <br>
                                                                    <label id="City"></label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>





                                                <div class="card">
                                                    <div class="card-body">
                                                        <h6 class="card-title" style="color:black;"><strong>Patient</strong></h6>

                                                        <div class="row invoice-info">
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Subscriber ID</strong>
                                                                    <br>
                                                                    <label id="PatientSubscriberId"></label>

                                                                    <br>
                                                                </div>
                                                            </div>
                                                            <!-- /.col -->
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Name</strong>
                                                                    <br>
                                                                    <label id="PatientName"></label>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Contact</strong> <br>
                                                                    <label id="PatientContacts"></label>
                                                                    <br>

                                                                </div>
                                                            </div>
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Email</strong>
                                                                    <br>
                                                                    <label id="PatientEmail"></label>

                                                                </div>
                                                            </div>
                                                            <div class="col-sm-3 invoice-col">
                                                                <div class="card-item">
                                                                    <strong style="color:black;">Patient Type</strong>
                                                                    <br>
                                                                    <label id="PatientType"></label>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </section>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="x_content">
    <div class="row">
        <div class="col-sm-12">
            <div class="modal fade" id="myModalsFeedback" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-dialog-centered modal-fullscreen" role="document">
                    <div class="modal-content" style="width: 500px; height: 400px;">
                        <div class="modal-header">
                            <h4 class="modal-title" id="myModalLabel" style="color:black">FeedBack</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        </div>
                        <div class="modal-body">
                            <div class="modal-body">
                                <div style="display: block;">
                                    <input type="hidden" id="bookingIds" value="">
                                    <div class="row">
                                        <label style="color:black;">Rating :</label>
                                        <div class="rating" style="margin-left:38px;margin-top:-9px;">
                                            <input type="radio" id="star5" name="rating" value="5">
                                            <label for="star5"></label>
                                            <input type="radio" id="star4" name="rating" value="4">
                                            <label for="star4"></label>
                                            <input type="radio" id="star3" name="rating" value="3">
                                            <label for="star3"></label>
                                            <input type="radio" id="star2" name="rating" value="2">
                                            <label for="star2"></label>
                                            <input type="radio" id="star1" name="rating" value="1">
                                            <label for="star1"></label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <label style="color:black;">Type :</label>
                                        <select class="form-control" style="width:200px;margin-left:49px;" id="feedback">
                                            <option value="">Select All</option>
                                            <option value="Complaint">Complaint</option>
                                            <option value="Feedback">Feedback</option>
                                            <option value="Suggestion">Suggestion</option>
                                        </select>

                                    </div>
                                    <div class="row" style="margin-top:20px;">
                                        <label style="color:black;">Remarks :</label>
                                        <textarea style="margin-left: 23px; height: 150px; width: 300px;" required="required" name="message"></textarea>
                                    </div>
                                    <div class="row" style="float:right;margin-top:10px;">
                                        <button type="submit" class="btn btn-primary" onclick="SubmitFeedback()">Submit</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>








<div class="clearfix"></div>


<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="../vendors/jquery/dist/jquery.min.js"></script>

 <script src="~/Content/vendors/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

<script src="~/Content/vendors/fastclick/lib/fastclick.js"></script>
<script src="~/Content/vendors/iCheck/icheck.min.js"></script>           
<script src="~/Content/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="~/Content/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
<script src="~/Content/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
<script src="~/Content/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
<script src="~/Content/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
<script src="~/Content/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
<script src="~/Content/vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
<script src="~/Content/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
<script src="~/Content/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
<script src="~/Content/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script src="~/Content/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
<script src="~/Content/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
<script src="~/Content/vendors/jszip/dist/jszip.min.js"></script>
<script src="~/Content/vendors/pdfmake/build/pdfmake.min.js"></script>
<script src="~/Content/vendors/pdfmake/build/vfs_fonts.js"></script>
<script src="~/Content/build/js/custom.min.js"></script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/v52afc6f149f6479b8c77fa569edb01181681764108816" integrity="sha512-jGCTpDpBAYDGNYR5ztKt4BQPGef1P0giN6ZGVUi835kFF88FOmmn8jBQWNgrNd8g/Yu421NdgWhwQoaOPFflDw==" data-cf-beacon='{"rayId":"7c38c12a3fed9e80","token":"cd0b4b3a733644fc843ef0b185f98241","version":"2023.4.0","si":100}' crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>

    $(document).ready(function () {

        $(".dataTables_info").remove();
        $(".dataTables_paginate").remove();
        $("#datatable-responsive_length").remove();


    });

    // Handle page size select change event
  

    // Function to retrieve the current page number
    function getCurrentPage() {
        var currentPage = parseInt($('.pagination li.active a').attr('href').split('=')[1]);
        return currentPage;
    }

    // Function to update the page size in the pagination links

    function updatePageSizeInLinks(pageSize) {
        $('.pagination a').each(function () {
            var href = $(this).attr('href');

            // Check if href exists before performing the replacement
            if (href) {
                // Replace the page size value in the href attribute
                var updatedHref = href.replace(/(size=)\d+/, '$1' + pageSize);

                // Update the href attribute with the new page size value
                $(this).attr('href', updatedHref);
            }
        });
    }

          


    function popupFeedBacks(bookingId, type, rating, remarks) {
      

        $("#bookingIds").val(bookingId);
        $("#feedback").val(type);
        $("input[name='rating'][value='" + rating + "']").prop("checked", true);
        $("textarea[name='message']").val(remarks);

    }
    function SubmitFeedback() {
       
        var rating = $("input[name='rating']:checked").val();
        // Get the type value
        var type = $("#feedback").val();
        // Get the remarks value
        var remarks = $("textarea[name='message']").val();

        var bookingid = $("#bookingIds").val();
        console.log("bookingIDs", bookingid);
        let conf = confirm(`Are you sure you want to send feedback ?`);
        if (!conf) {
            window.location.href = "/hometesting";
            return;
        } else {
            window.location.href = `/hometestingfeedback?bookingid=${bookingid}&rating=${rating}&type=${type}&remarks=${remarks}`;
        }
    }


    function popupEdit(booking_code, booking_status, medicalInstititute, prefereddate, appointmentdate, test_list, patientinfoname,
        patientinfocontact, patientinfoemail, patientinfosubscriberid, patientinfopatienttype, contactinfoaddress1, contactinfoaddress2,
        contactintocontact, contactinfoname, contactinfoispatient) {
        clearTable();
       
        console.log("patientinfocontact", patientinfocontact)
        console.log("contactintocontact", contactintocontact)

        $("#booking_code").text(booking_code);
        $("#prefered_date").text(prefereddate);
        $("#appointment_date").text(appointmentdate);
        $("#Institute").text(medicalInstititute);

        var bookingStatusLabel = $("#bookingstatus");
        bookingStatusLabel.text(booking_status);

        // Add or remove CSS classes based on the condition
        if (booking_status === "Completed") {
            bookingStatusLabel.addClass("completed-status");
        }
        if (booking_status === "Appointment Completed") {
            bookingStatusLabel.addClass("completed-status");
        }
        else {
            bookingStatusLabel.addClass("pending-status");
        }
        $("#Contacts").text(contactintocontact);
        $("#Address1").text(contactinfoaddress1);
        $("#Address2").text(contactinfoaddress2);
        if (contactinfoispatient) {
            $("#ContactInfoIsPatient").text("Yes");
        } else {
            $("#ContactInfoIsPatient").text("No");
        }

        $("#name").text(contactinfoname);
        $("#City").text("N.A");
        $("#Postal").text("N.A");

        // for patient
        $("#PatientName").text(patientinfoname);
        $("#PatientContacts").text(patientinfocontact);
        $("#PatientEmail").text(patientinfoemail);
        $("#PatientSubscriberId").text(patientinfosubscriberid);
        $("#PatientType").text(patientinfopatienttype);
        var testArray = test_list.split(',');

        var tableBody = $('#testTable tbody');
        for (var i = 0; i < testArray.length; i++) {
            var row = $('<tr>');
            row.append($('<td>').text(i + 1));
            row.append($('<td>').text(testArray[i]));
            tableBody.append(row);
        }

        function clearTable() {
            $('#testTable tbody').empty();
        }

    }
</script>

